<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<title>Alle Artikel</title>
	<link rel="stylesheet" href="css/items.css" />
</h:head>
		<h:form id="itemForm">
			<p:growl id="growl-error" showDetail="true" severity="error"/>
			<p:growl id="growl-success" showDetail="true" severity="info"/>
		
			<h:outputText value="Artikel" style="font-size:20px"/>
			<h:outputText value="&lt;br/&gt;" escape="false" />
			<h:outputText value="&lt;br/&gt;" escape="false" />

			<p:dataTable id="itemTable" var="item" value="#{itemBean.items}" editable="true" editMode="cell" tableStyle="width:auto">

<!-- 				<p:column headerText="Artikel">
					<h:outputText value="#{item.itemName}" />
				</p:column> -->
				
		        <p:column headerText="Artikel">
		            <p:cellEditor>
		                <f:facet name="output"><h:outputText value="#{item.itemName}" /></f:facet>
		                <f:facet name="input"><p:inputText value="#{item.itemName}" label="Artikel"/></f:facet>
		            </p:cellEditor>
		        </p:column>
				<p:column>
		            <p:commandButton value="x" process="@this" update="itemTable"
                              action="#{itemBean.deleteItem(item.id)}"/>
		        </p:column>
			</p:dataTable>
			
			<h:outputText value="&lt;br/&gt;" escape="false" />
			
			<p:commandButton value="Add" process="@this" update="itemTable"
                              action="#{itemBean.addNewItem()}"/>

			<p:commandButton value="Save" process="@this" update="itemTable, growl-error, growl-success"
                              action="#{itemBean.saveAllItems()}"/>
                              
			<p:commandButton value="Refresh" process="@this" update="itemTable"
                              action="#{itemBean.retrieveAllItems()}"/>
	
		</h:form>
<h:body>

</h:body>
</html>